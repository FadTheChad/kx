###########################
# Crete Events
###########################
# By Levi
###########################

add_namespace = crete
add_namespace = crete_sale

####Crete Starting Events#####

country_event = { #Muller vanishes lmao
	id = crete.1
	title = crete.1.t 
	desc = crete.1.d 
	is_triggered_only = yes
			
	option = { #f
		name = crete.1.a 
		add_country_leader_trait = CRE_kidnapped
		hidden_effect = {	
			country_event = {
				id = crete.2
				days = 5
			}
		}
	}
}

country_event = { #Find him?
	id = crete.2
	title = crete.2.t 
	desc = crete.2.d 
	is_triggered_only = yes
			
	option = { #we got him boys
		name = crete.2.a 
		remove_country_leader_trait = CRE_kidnapped
	}
	
	option = { #too late
		name = crete.2.b
		custom_effect_tooltip = CRE_Muller_Dies_TT
		create_country_leader = {
			name = "Vacant Office"
			picture = "gfx/leaders/CRE/Portrait_Crete_Vacancy.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		hidden_effect = {
			country_event = {
				id = crete.3
				days = 5
			}
		}
	}
}

country_event = { #New Guy
	id = crete.3
	title = crete.3.t 
	desc = crete.3.d 
	is_triggered_only = yes
			
	option = { #Andrae
		name = crete.3.a 
		create_country_leader = {
			name = "Alexander Andrae"
			desc = "POLITICS_ANDRAE_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Alexander_Andrae.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		create_country_leader = {
			name = "Alexander Andrae"
			desc = "POLITICS_ANDRAE_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Alexander_Andrae.png"
			expire = "1965.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}
	}
	
	option = { #Coke
		name = crete.3.b 
		create_country_leader = {
			name = "Walter Koch"
			desc = "POLITICS_KOCH_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Walter_Koch.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		create_country_leader = {
			name = "Walter Koch"
			desc = "POLITICS_KOCH_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Walter_Koch.png"
			expire = "1965.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}
		hidden_effect = {
			country_event = {
				id = crete.6
				days = 36
			}
		}
	}
	
	option = { #Osterkamp
		name = crete.3.c
		create_country_leader = {
			name = "Theo Osterkamp"
			desc = "POLITICS_OSTERKAMP_DESC"
			picture = "gfx/leaders/CRE/Potrait_Crete_Theo_Osterkamp.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		create_country_leader = {
			name = "Theo Osterkamp"
			desc = "POLITICS_OSTERKAMP_DESC"
			picture = "gfx/leaders/CRE/Potrait_Crete_Theo_Osterkamp.png"
			expire = "1965.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}
	}
}

country_event = { #No Money
	id = crete.4
	title = crete.4.t 
	desc = crete.4.d 
	is_triggered_only = yes
			
	option = { #Sell it
		name = crete.4.a 
		country_event = {
			id = crete_sale.1
			days = 5
		}
	}
	
	option = { #Yeild to Civilian Govt
		name = crete.4.b
		create_country_leader = {
			name = "Georgios Petrakis"
			desc = "POLITICS_PETRAKIS_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Georgios_Petrakis.png"
			expire = "1965.1.1"
			ideology = authoritarian_democrat_subtype
			traits = {}
		}
		set_party_name = {
			name = CRE_resistance_party
			long_name = CRE_resistance_party_long
			ideology = authoritarian_democrat
		}
		drop_cosmetic_tag = yes
		country_event = {
			id = crete.5
			days = 5
		}
		every_unit_leader = {
			limit = { has_unit_leader_flag = CRE_german_leader }
			set_nationality = GER
		}
		GER = {
			end_puppet = CRE
		}
		leave_faction = yes
	}
	
	option = { #Nothing
		name = crete.4.c
		set_country_flag = CRE_GERMS_HOLD
	}
}

country_event = { #Govt
	id = crete.5
	title = crete.5.t 
	desc = crete.5.d 
	is_triggered_only = yes
			
			
	option = { #MarLib
		name = crete.5.a
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.2
		}
		
		create_corps_commander = {
			name = "Stylianos Pattakos"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Stylianos_Pattakos.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Antonios Zoidakis"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Antonios_Zoidakis.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Georgios Petrakis"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Georgios_Petrakis.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}
		hidden_effect = {
			country_event = {
				id = crete.7
				days = 6
			}
		}
	}
	
	option = { #SocCon
		name = crete.5.b
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = no
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		
		create_corps_commander = {
			name = "Stylianos Pattakos"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Stylianos_Pattakos.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Antonios Zoidakis"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Antonios_Zoidakis.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Georgios Petrakis"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Georgios_Petrakis.png"
			traits = {
				hidden_sympathies
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}
		hidden_effect = {
			country_event = {
				id = crete.7
				days = 6
			}
		}
	}
	
	option = { #Entente
		name = crete.5.c
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
		}
		set_party_name = {
			name = CRE_entente_party
			long_name = CRE_entente_party_long
		}
		ENT = {
			add_to_faction = CRE
		}
		create_country_leader = {
			name = "Patrick Leigh Fermor"
			desc = "POLITICS_FERMOR_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Patrick_Leigh_Fermor.png"
			expire = "1965.1.1"
			ideology = police_state_subtype
			traits = {}
		}
		
		create_corps_commander = {
			name = "Patrick Leigh Fermor"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Patrick_Leigh_Fermor.png"
			traits = {
				commando
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Billy Moss"
			portrait_path = "gfx/leaders/CRE/Portrait_Crete_Billy_Moss.png"
			traits = {
				commando
			}
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}
		set_global_flag = CRE_ENTENTE_CRETE
	}
}

country_event = { #Paratrooper Coup
	id = crete.6
	title = crete.6.t 
	desc = crete.6.d 
	is_triggered_only = yes
			
	option = { #Heidrich
		name = crete.6.a 
		create_country_leader = {
			name = "Richard Heidrich"
			desc = "POLITICS_HEIDRICH_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Richard_Heidrich.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		create_country_leader = {
			name = "Richard Heidrich"
			desc = "POLITICS_HEIDRICH_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Richard_Heidrich.png"
			expire = "1965.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.14
		}
		set_party_name = {
			name = CRE_paratroopers_party
			long_name = CRE_paratroopers_party_long
			ideology = paternal_autocrat
		}
		every_unit_leader = {
			limit = { has_id = 6657 }
			remove_unit_leader = yes
		}
	}
	
	option = { #Student
		name = crete.3.b 
		create_country_leader = {
			name = "Kurt Student"
			desc = "POLITICS_STUDENT_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Kurt_Student.png"
			expire = "1965.1.1"
			ideology = colonial_govt_subtype
			traits = {}
		}
		create_country_leader = {
			name = "Kurt Student"
			desc = "POLITICS_STUDENT_DESC"
			picture = "gfx/leaders/CRE/Portrait_Crete_Kurt_Student.png"
			expire = "1965.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}
		every_unit_leader = {
			limit = { has_id = 6657 }
			remove_unit_leader = yes
		}
	}
}

country_event = { #Rejoin Greece
	id = crete.7
	title = crete.7.t 
	desc = crete.7.d 
	is_triggered_only = yes
			
	option = { #Yes
		name = crete.7.a 
		ai_chance = {
			factor = 90
		}
		GRE = {
			country_event = {
				id = crete.8
				days = 2
			}
		}
	}		
	option = { #Stay Independent
		name = crete.7.b
		ai_chance = {
			factor = 10
		}
		GRE = {
			country_event = {
				id = crete.9
				days = 2
			}
		}
	}
}

country_event = { #Crete Rejoins Greece
	id = crete.8
	title = crete.8.t 
	desc = crete.8.d 
	is_triggered_only = yes
			
	option = { #Yay
		name = crete.8.a 
		ai_chance = {
			factor = 90
		}
		GRE = { annex_country = { target = CRE transfer_troops = yes } }
	}
}

country_event = { #Crete Refuses to Rejoin Greece
	id = crete.9
	title = crete.9.t 
	desc = crete.9.d 
	is_triggered_only = yes
			
	option = { #Who Cares?
		name = crete.9.a 
		ai_chance = {
			factor = 90
		}
		
	}	
	
	option = { #Reclaim Crete
		name = crete.9.b 
		ai_chance = {
			factor = 90
		}
		create_wargoal = {
			type = annex_everything
			target = CRE
		}
	}
}

country_event = { #Entente Crete rejoins Greece
	id = crete.10
	title = crete.10.t 
	desc = crete.10.d 
	fire_only_once = yes
	trigger = {
		tag = GRE
		is_in_faction_with = ENT
		CRE = {
			is_in_faction_with = ENT
		}
		has_global_flag = CRE_ENTENTE_CRETE
	}
			
	option = { #Cool
		name = crete.10.a 
		ai_chance = {
			factor = 90
		}
		GRE = { annex_country = { target = CRE transfer_troops = yes } }
	}
}

####Sale of Crete#####
country_event = { #sale of crete 
	id = crete_sale.1
	title = crete_sale.1.t 
	desc = crete_sale.1.d 
	is_triggered_only = yes
			
	# option = { #keep it
		# name = crete_sale.1.a 
		# ai_chance = { factor = 50 }
		# add_political_power = -50
		# add_opinion_modifier = { target = TUR modifier = CRE_REF }
		# add_opinion_modifier = { target = GRE modifier = CRE_REF }
	# }
	option = { #Sell to Ottomans
		name = crete_sale.1.b
		ai_chance = { factor = 30 }
		add_opinion_modifier = { target = TUR modifier = CRE_SEL }
		add_opinion_modifier = { target = GRE modifier = CRE_REF }
		TUR = { country_event = { id = crete_sale.2 days = 2 } }
		set_country_flag = ottoman_offer
	}
	option = { #Sell to Greece
		name = crete_sale.1.c
		ai_chance = { factor = 20 }
		add_opinion_modifier = { target = TUR modifier = CRE_REF }
		add_opinion_modifier = { target = GRE modifier = CRE_SEL }
		GRE = { country_event = { id = crete_sale.5 days = 2 } }
		set_country_flag = greek_offer
	}
}
country_event = { #offer for ottomans
	id = crete_sale.2
	title = crete_sale.2.t 
	desc = crete_sale.2.d 
	is_triggered_only = yes
	option = { #buy it
		name = crete_sale.2.a 
		ai_chance = { factor = 70 }
		add_political_power = -50
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		GER = { country_event = { id = crete_sale.3 days = 1 } }
	}
	option = { #refuse
		name = crete_sale.2.b
		ai_chance = { factor = 30 }
		add_opinion_modifier = { target = GER modifier = CRE_REF }
		GER = { country_event = { id = crete_sale.4 days = 1 } }
	}
}
country_event = { #the ottomans agree
	id = crete_sale.3
	title = crete_sale.3.t 
	desc = crete_sale.3.d 
	is_triggered_only = yes
	option = {
		name = crete_sale.3.a 
		TUR = { annex_country = { target = CRE transfer_troops = yes } }
		add_political_power = 30
	}
}

country_event = { #the ottomans refuse
	id = crete_sale.4
	title = crete_sale.4.t 
	desc = crete_sale.4.d 
	is_triggered_only = yes
	
	option = { #keep it 
		name = crete_sale.4.a
		ai_chance = { factor = 85 }
		add_political_power = -50
	}
	option = { #offer greece
		name = crete_sale.4.b 
		trigger = { NOT = { has_country_flag = greek_offer } }
		ai_chance = { factor = 15  }
		GRE = { country_event = { id = crete_sale.5 days = 5 } }
	}
}
country_event = { #offer for greece
	id = crete_sale.5
	title = crete_sale.5.t 
	desc = crete_sale.5.d 
	is_triggered_only = yes
	
	option = { #buy it
		name = crete_sale.5.a 
		ai_chance = { factor = 100 }
		add_political_power = -50
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		GER = { country_event = { id = crete_sale.6 days = 1 } }
	}
	option = { #refuse
		name = crete_sale.5.b
		ai_chance = { factor = 0 }
		add_opinion_modifier = { target = GER modifier = CRE_REF }
		GER = { country_event = { id = crete_sale.7 days = 1 } }
	}
}
country_event = { #the greeks agree
	id = crete_sale.6
	title = crete_sale.6.t 
	desc = crete_sale.6.d 
	is_triggered_only = yes
	option = {
		name = crete_sale.6.a 
		GRE = { annex_country = { target = CRE transfer_troops = yes } }
		add_political_power = 30
	}
}
country_event = { #the greeks refuse
	id = crete_sale.7
	title = crete_sale.7.t 
	desc = crete_sale.7.d 
	is_triggered_only = yes
	
	option = { #keep it 
		name = crete_sale.7.a
		ai_chance = { factor = 85 }
		add_political_power = -50
	}
	option = { #offer ottomans
		name = crete_sale.7.b 
		trigger = { NOT = { has_country_flag = ottoman_offer } }
		ai_chance = { factor = 15  }
		TUR = { country_event = { id = crete_sale.2 days = 5 } }
	}
}
							
country_event = { #ottoman status of crete
	id = crete_sale.8
	title = crete_sale.8.t
	desc = crete_sale.8.d
	fire_only_once = yes
	trigger = {
		tag = TUR
		controls_state = 182
		has_war = no
	}
	mean_time_to_happen = {
		days = 20
	}	
	
	option = {  #puppet crete ministers#
		name = crete_sale.8.a
		ai_chance = { factor = 80 }
		release = CRE 
		puppet = CRE
		add_political_power = 30
		CRE = { 
			set_cosmetic_tag = CRE_OTT
			add_popularity = { ideology = paternal_autocrat popularity = 0.40 }
			set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
				}
			create_country_leader = {
				name = "Mustafa Ertuğrul Pasha"
				desc = "POLITICS_MUSTAFA_ERTUGRUL_DESC"
				picture = "gfx/leaders/CRE/Mustafa_Ertugrul_I.png"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
				traits = {}
			}
		}
	}
	option = { #integrate 
		name = crete_sale.8.b 
		ai_chance = { factor = 20 }
		add_state_claim = 182
		add_political_power = -30
		set_country_flag = INT_CRE
	}
}
country_event = { #Greek status of crete
	id = crete_sale.9
	title = crete_sale.9.t
	desc = crete_sale.9.d
	fire_only_once = yes
	trigger = {
		tag = GRE
		controls_state = 182
		has_war = no
	}
	mean_time_to_happen = { days = 15 }
	
	
	option = { #integrate 
		name = crete_sale.9.b 
		ai_chance = { factor = 100 }
		add_state_core = 182
		add_political_power = 30
	}
}
country_event ={
	id = crete_sale.10	
	title = crete_sale.10.t 
	desc = crete_sale.10.d 
	fire_only_once = yes
	trigger = {
		tag = CRE
		is_subject_of = GER
		GER = { has_war_with = FRA }
	}
	mean_time_to_happen = { days = 5 }
	
	option = {
		name = crete_sale.10.a 
	}
	option = {
		name = crete_sale.10.b 
		trigger = { GRE = { exists = yes } }
		GRE = { 
			country_event = { id = crete_sale.11 days = 1 }
		}
	}
}
country_event = {
	id = crete_sale.11
	title = crete_sale.11.t 
	desc = crete_sale.11.d 
	is_triggered_only = yes
	
	option = {
	name = crete_sale.11.a 
	GRE = { 
		annex_country = { target = CRE transfer_troops = yes }
	}
	add_political_power = 20
	add_state_core = 182
	}
}