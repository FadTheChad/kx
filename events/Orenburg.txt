###########################
# Ural Cossacks Events
###########################
# By soclib
###########################

add_namespace = orenburg


country_event = {
	id = orenburg.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.1" }
	title = orenburg.1.t
	desc = orenburg.1.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ALO_dutov
	
	option = {
		name = orenburg.1.a
		country_event = orenburg.2
	}
}

country_event = {
	id = orenburg.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.2" }
	title = orenburg.2.t
	desc = orenburg.2.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ALO_dutov
	
	option = {
		name = orenburg.2.a
		country_event = orenburg.3
	}
}
country_event = {
	id = orenburg.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.3" }
	title = orenburg.3.t
	desc = orenburg.3.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ALO_dutov
	
	option = {
		name = orenburg.3.a
		country_event = {
			id = orenburg.4
			days = 4
		}
	}
}
country_event = {
	id = orenburg.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.4" }
	title = orenburg.4.t
	desc = orenburg.4.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ORE_sedelnikov
	
	option = {
		name = orenburg.4.a
		add_ideas = ORE_influence_of_the_left
		add_popularity = { ideology = social_democrat popularity = 0.03 }
		add_popularity = { ideology = radical_socialist popularity = 0.02 }
	}
}
country_event = {
	id = orenburg.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.5" }
	title = orenburg.5.t
	desc = orenburg.5.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ORE_circle
	trigger = {
		RVA = { has_war_with = RUS }
	}
	
	option = {
		name = orenburg.5.a	
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
		add_stability = -0.05
		RVA = { 
			country_event = {
				id = rcw.252 
				days = 3
			}
		}
	}
	option = {
		name = orenburg.5.b	
		add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
		add_stability = 0.05		
		add_war_support = -0.05
	}
	option = {
		name = orenburg.5.c
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		add_stability = -0.05		
		add_war_support = -0.05
	}
}
country_event = {
	id = orenburg.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.6" }
	title = orenburg.6.t
	desc = orenburg.6.d
	
	fire_only_once = yes
	picture = GFX_report_event_ORE_circle
	trigger = {
		tag = ORE
		RVA = { has_war_with = RUS }
		has_war_with = RUS
		is_subject = no
		1208 = { is_fully_controlled_by = ORE }
	}
	mean_time_to_happen = { days = 2 }
	
	option = {
		name = orenburg.6.a	
		add_war_support = 0.10
		582 = { 
			transfer_state_to = ORE 
			add_core_of = ORE
		}
		572 = { 
			transfer_state_to = ORE 
			add_core_of = ORE
		}		
	}
}
country_event = {
	id = orenburg.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.7" }
	title = orenburg.7.t
	desc = orenburg.7.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ORE_circle
	
	option = {
		name = orenburg.7.a	
		activate_targeted_decision = { target = SMR decision = ORE_uprising_of_semirechye }	
	}
}
country_event = {
	id = orenburg.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.8" }
	title = orenburg.8.t
	desc = orenburg.8.d
	
	is_triggered_only = yes
	picture = GFX_report_event_ALO_dutov
	
	option = {
		name = orenburg.8.a	
		ai_chance = {
			base = 25			
		}
		BKN_decrease_bashkir_host_fragility = yes
		add_stability = -0.02
		increase_ruling_party_popularity_by_3 = yes
		FROM = {
			country_event = {
				id = orenburg.9
				days = 2
			}
		}
	}
	option = {
		name = orenburg.8.b	
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				OR = {
					ALO = { is_subject_of = FROM }
					FROM = { owns_state = 810 }
				}
			}
			modifier = {
				factor = 0.4
				has_government = syndicalist
			}
		}
		BKN_increase_bashkir_host_funding = yes
		BKN_increase_bashkir_host_fragility = yes
		effect_tooltip = {
			FROM = { send_equipment = { target = ROOT type = infantry_equipment amount = 1000 } }				
			add_opinion_modifier = { target = FROM modifier = KR_trade_agreement }
			reverse_add_opinion_modifier = { target = FROM modifier = KR_trade_agreement }
			give_military_access = FROM
			FROM = { give_military_access = ROOT }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}			
		}
		FROM = {
			country_event = {
				id = orenburg.10
				days = 2
			}
		}
		hidden_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 1000
				producer = FROM
			}
		}
	}
}
country_event = {
	id = orenburg.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.9" }
	title = orenburg.9.t
	desc = orenburg.9.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.9.a	
		add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
		if = {
			limit = { 
				FROM = { has_government = syndicalist }
			}
			add_popularity = { ideology = radical_socialist popularity = 0.04 }
		}
	}
}
country_event = {
	id = orenburg.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.10" }
	title = orenburg.10.t
	desc = orenburg.10.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.10.a	
		if = {
			limit = { 
				FROM = { has_government = syndicalist }
			}
			add_popularity = { ideology = radical_socialist popularity = 0.04 }
		}
		else = {
			add_popularity = { ideology = radical_socialist popularity = -0.04 }
		}
		add_opinion_modifier = { target = FROM modifier = KR_trade_agreement }
		reverse_add_opinion_modifier = { target = FROM modifier = KR_trade_agreement }
		give_military_access = FROM
		FROM = { give_military_access = ROOT }
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
			active = yes
		}
	}
}
country_event = {
	id = orenburg.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.11" }
	title = orenburg.11.t
	desc = orenburg.11.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.11.a
		ai_chance = { 
			base = 65
			modifier = {
				factor = 0.5
				has_idea = TRM_Grigoriy_M_Semyenov_hog_pau
			}
		}
		add_political_power = -35		
		set_temp_variable = { change_morale = -0.05 }
		RUS_change_siberian_war_morale = yes		
		FROM = {
			country_event = {
				id = orenburg.13
				days = 2
			}
		}
	}
	option = {
		name = orenburg.11.b	
		ai_chance = { 
			base = 35
			modifier = {
				factor = 2
				russian_civil_war = no
			}
		}
		set_temp_variable = { change_morale = 0.10 }
		RUS_change_siberian_war_morale = yes		
		effect_tooltip = {
			give_guarantee = FROM
			add_opinion_modifier = { target = FROM modifier = KR_close_allies }
			reverse_add_opinion_modifier = { target = FROM modifier = KR_close_allies }
			give_military_access = FROM
			FROM = { give_military_access = ROOT }
		}
		custom_effect_tooltip = ORE_declare_war_on_RUS_when_siberian_war_TRM
		set_global_flag = ORE_declare_war_on_RUS_when_siberian_war
		FROM = {
			country_event = {
				id = orenburg.12
				days = 2
			}
		}
	}
}
country_event = {
	id = orenburg.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.12" }
	title = orenburg.12.t
	desc = orenburg.12.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.12.a
		add_popularity = { ideology = radical_socialist popularity = -0.05 }
		add_popularity = { ideology = social_democrat popularity = -0.05 }
		add_political_power = 50
		FROM = { 
			give_guarantee = ROOT
			give_military_access = ROOT
		}
		give_military_access = FROM
		add_opinion_modifier = { target = FROM modifier = KR_close_allies }
		reverse_add_opinion_modifier = { target = FROM modifier = KR_close_allies }
		custom_effect_tooltip = ORE_declare_war_on_RUS_when_siberian_war
	}
}
country_event = {
	id = orenburg.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.13" }
	title = orenburg.13.t
	desc = orenburg.13.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.13.a
		add_popularity = { ideology = radical_socialist popularity = 0.05 }
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		add_political_power = -35
		set_country_flag = ORE_kolchak_refused
		uncomplete_national_focus = {
			focus = ORE_Recognize_Kolchak
			uncomplete_children = yes
		}
	}
}
country_event = {
	id = orenburg.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.14" }
	title = orenburg.14.t
	desc = orenburg.14.d
	
	is_triggered_only = yes
	trigger = {
		NOT = { has_war_with = RUS }
	}
	
	option = {
		name = orenburg.14.a
		FROM = {
			add_to_war = {
				targeted_alliance = ROOT
				enemy = RUS
			}	
		}
	}
}
country_event = {
	id = orenburg.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.15" }
	title = orenburg.15.t
	desc = orenburg.15.d
	
	fire_only_once = yes
	trigger = {
		tag = ORE
		country_exists = TRM
		is_guaranteed_by = TRM 
		TRM = {
			OR = {
				TRM_kolchak_in_power = no
				has_country_leader_with_trait = TRM_shaky_rule
				is_subject = yes
				has_country_flag = ORE_kolchak_refused 
			}
		}
	}
	mean_time_to_happen = {
		days = 5
	}
	
	option = {
		name = orenburg.15.a
		ai_chance = { 
			base = 60
		}
		set_temp_variable = { target = TRM }
		clear_all_relations_with_TARGET = yes
		TRM = { country_event = orenburg.16 }
		add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
	}
	option = {
		name = orenburg.15.a
		ai_chance = { 
			base = 40
		}
		add_political_power = -35
		add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
	}
}
country_event = {
	id = orenburg.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.16" }
	title = orenburg.16.t
	desc = orenburg.16.d
	
	is_triggered_only = yes
		
	option = {
		name = orenburg.16.a
		effect_tooltip = { clear_relations_with_FROM = yes }
		remove_opinion_modifier = { target = FROM modifier = KR_close_allies }
		FROM = { remove_opinion_modifier = { target = TRM modifier = KR_close_allies } }
	}
}
country_event = {
	id = orenburg.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.18" }
	title = orenburg.18.t
	desc = orenburg.18.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.18.a
		add_war_support = 0.05
		add_political_power = 50
		custom_effect_tooltip = tech_home_bred_horses_effect
		hidden_effect = { set_technology = { tech_home_bred_horses = 1 popup = no } }			
	}
}
country_event = {
	id = orenburg.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.19" }
	title = orenburg.19.t
	desc = orenburg.19.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.19.a
		add_stability = 0.05
		add_war_support = 0.05
		add_manpower = 6000
		country_event = orenburg.5
	}
}
country_event = {
	id = orenburg.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.20" }
	title = orenburg.20.t
	desc = orenburg.20.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.20.a
		create_faction = "Union of Cossack Hosts"
		add_ideas = ORE_union_of_cossack_hosts
	}
}
country_event = {
	id = orenburg.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.21" }
	title = orenburg.21.t
	desc = orenburg.21.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.21.a
		FROM = { add_to_faction = ROOT }
		add_ideas = ORE_union_of_cossack_hosts
	}
	option = {
		name = orenburg.21.b
		ai_chance = { base = 0 }
		FROM = { country_event = orenburg.22 }
	}
}
country_event = {
	id = orenburg.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event orenburg.22" }
	title = orenburg.22.t
	desc = orenburg.22.d
	
	is_triggered_only = yes
	
	option = {
		name = orenburg.22.a
		add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
	}
}