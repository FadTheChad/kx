UCH_add_to_uch = {
	if = {
		limit = { NOT = { has_country_flag = UCH_council_member } }
		set_country_flag = UCH_council_member
		add_to_array = { global.UCH_members = THIS }
		if = {
			limit = { NOT = { tag = UCH } }
			diplomatic_relation = {
				country = UCH
				relation = non_aggression_pact
			}
		}
		add_ideas = UCH_union_of_cossack_hosts
		if = {
			limit = { 
				original_tag = ORE 
				NOT = { country_exists = SMR }
			}
			set_variable = { ROOT.uch_council_votes = 2 }
			add_to_variable = { global.uch_council_votes = 2 }
		}
		else_if = {
			limit = { original_tag = DKB }
			set_variable = { ROOT.uch_council_votes = 2 }
			add_to_variable = { global.uch_council_votes = 2 }
		}
		else = {
			set_variable = { ROOT.uch_council_votes = 1 }
			add_to_variable = { global.uch_council_votes = 1 }
		}
	}
}
UCH_remove_from_uch = {
	set_temp_variable = { target = UCH }
	clear_all_relations_with_TARGET = yes
	if = {
		limit = { has_country_flag = UCH_council_member }
		#Preserved to represent host
		if = {
			limit = { has_completed_focus = KUB_Sign_The_Federative_Treaty }
			clr_country_flag = UCH_council_member
			subtract_from_variable = { global.uch_council_votes = ROOT.uch_council_votes }
		}
		remove_from_array = { global.UCH_members = THIS }
	}
	if = {
		limit = { is_in_tech_sharing_group = uch_cossack_research }
		remove_from_tech_sharing_group = uch_cossack_research
	}
}
UCH_calculate_manpower_to_add = {
	set_temp_variable = { manpower_to_add = 0 }
	hidden_effect = {
		every_owned_state = {
			limit = { is_controlled_by = ROOT }
			add_to_temp_variable = { PREV.manpower_to_add = state_population_k }
		}
	}
	multiply_temp_variable = { manpower_to_add = 6 }
	add_manpower = manpower_to_add		
}
UCH_organize_admin = {
	if = {
		limit = { has_idea = UCH_disorganized_administrations }
		swap_ideas = {
			remove_idea = UCH_disorganized_administrations
			add_idea = UCH_disorganized_administrations_2
		}
	}
	else_if = {
		limit = { has_idea = UCH_disorganized_administrations_2 }
		swap_ideas = {
			remove_idea = UCH_disorganized_administrations_2
			add_idea = UCH_disorganized_administrations_3
		}
	}
	else_if = {
		limit = { has_idea = UCH_disorganized_administrations_3 }
		swap_ideas = {
			remove_idea = UCH_disorganized_administrations_3
			add_idea = UCH_disorganized_administrations_4
		}
	}
	else_if = {
		limit = { has_idea = UCH_disorganized_administrations_4 }
		remove_ideas = UCH_disorganized_administrations_4
	}
}