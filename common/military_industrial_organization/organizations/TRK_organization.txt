### TODO: not all companies converted due to lack of unique organisation types

###################
### Armour MIOs ###
###################

##################
### Naval MIOs ###
##################

#####################
### Airplane MIOs ###
#####################
TRK_tashkent_avia_organisation = {
	include = generic_light_aircraft_organization
	name = tashkent_tz
	icon = GFX_idea_tashkent_tz
	allowed = { is_turkestan_tag = yes }
	available = {
		FROM = { controls_state = 407 }
	}
}

#####################
### Materiel MIOs ###
#####################
TRK_tashkent_tz_moto_organisation = {
	include = generic_motorized_mechanized_organization
	name = tashkent_tz
	icon = GFX_idea_tashkent_tz
	allowed = { is_turkestan_tag = yes }
	available = { 
		FROM = {
			if = {
				limit = { original_tag = TRK }
				has_completed_focus = TRK_Agricultural_Mechanization
			}
			controls_state = 407 
		}
	}
}
TRK_tashkent_arsenal_organisation = {
	name = tashkent_arsenal
	icon = GFX_idea_generic_arms_company
	allowed = { is_turkestan_tag = yes }
	
	equipment_type = {
		infantry_equipment
		support_equipment
		artillery_equipment
		anti_tank_equipment
		anti_air_equipment
		rocket_artillery_equipment
	}
	research_categories = { infantry_weapons support_tech mio_cat_all_artillery_equipment }
	
	available = { 
		FROM = {
			if = {
				limit = { original_tag = TRK }
				has_completed_focus = TRK_Open_Tashkent_Arsenal
			}
			controls_state = 407 
		}
	}
	
	tree_header_text = {
		text = mio_header_support
		x = 1
	}

	tree_header_text = {
		text = mio_header_weapons
		x = 4
	}
	
	tree_header_text = {
		text = mio_header_armament_and_ammunition
		x = 8
	}
	
	initial_trait = {
		name = generic_mio_initial_trait_equipment_manufacturer

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}
		production_bonus = {
			production_cost_factor = -0.05
		}
	}
	
	
	trait = {
		token = generic_mio_trait_material_recycling
		name = generic_mio_trait_material_recycling
		icon = GFX_generic_mio_department_icon_support_materials

		position = { x = 1 y = 0 }

		limit_to_equipment_type = { support_equipment }

		production_bonus = {
			production_resource_need_factor = -0.15
		}
	}

	trait = {
		token = generic_mio_trait_scrap_melting
		name = generic_mio_trait_scrap_melting
		icon = GFX_generic_mio_trait_icon_resources

		position = { x =-1 y = 1 }
		relative_position_id = generic_mio_trait_material_recycling

		all_parents = { generic_mio_trait_material_recycling }

		mutually_exclusive = { generic_mio_trait_high_quality_material_blend }

		limit_to_equipment_type = { support_equipment }

		equipment_bonus = {
			reliability = -0.1
		}

		production_bonus = {
			production_resource_need_factor = -0.1
		}
	}

	trait = {
		token = generic_mio_trait_high_quality_material_blend
		name = generic_mio_trait_high_quality_material_blend
		icon = GFX_generic_mio_trait_icon_efficiency_cap

		position = { x = 1 y = 1 }
		relative_position_id = generic_mio_trait_material_recycling

		all_parents = { generic_mio_trait_material_recycling }

		mutually_exclusive = { generic_mio_trait_scrap_melting }

		limit_to_equipment_type = { support_equipment }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_resource_need_factor = 0.1
		}
	}

	trait = {
		token = generic_mio_trait_mass_production
		name = generic_mio_trait_mass_production
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x =-1 y = 2 }
		relative_position_id = generic_mio_trait_high_quality_material_blend

		any_parent = { generic_mio_trait_high_quality_material_blend generic_mio_trait_scrap_melting }

		limit_to_equipment_type = { support_equipment }

		production_bonus = {
			production_efficiency_gain_factor = 0.05
		}
	}

	trait = {
		token = generic_mio_trait_research_program
		name = generic_mio_trait_research_program
		icon = GFX_generic_mio_department_icon_facilities

		position = { x =-1 y = 1 }
		relative_position_id = generic_mio_trait_mass_production

		all_parents = { generic_mio_trait_mass_production }

		mutually_exclusive = { generic_mio_trait_efficient_scale_up }

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.06
		}
	}

	trait = {
		token = generic_mio_trait_efficient_scale_up
		name = generic_mio_trait_efficient_scale_up
		icon = GFX_generic_mio_department_icon_support_production

		position = { x = 2 y = 0 }
		relative_position_id = generic_mio_trait_research_program

		all_parents = { generic_mio_trait_mass_production }

		mutually_exclusive = { generic_mio_trait_research_program }

		limit_to_equipment_type = { support_equipment }

		production_bonus = {
			production_capacity_factor = 0.05
		}
	}

	trait = {
		token = generic_mio_trait_small_sidearms
		name = generic_mio_trait_small_sidearms
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 4 y = 0 }
		relative_position_id = generic_mio_trait_material_recycling

		limit_to_equipment_type = { infantry_equipment }

		equipment_bonus = {
			defense = 0.02
		}
	}

	trait = {
		token = generic_mio_trait_light_mortar
		name = generic_mio_trait_light_mortar
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_trait_small_sidearms

		all_parents = { generic_mio_trait_small_sidearms }
		
		limit_to_equipment_type = { infantry_equipment }

		equipment_bonus = {
			breakthrough = 0.05
			soft_attack = 0.02
			build_cost_ic = 0.06
		}
	}

	trait = {
		token = generic_mio_trait_mobile_limbers
		name = generic_mio_trait_mobile_limbers
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 7 y = 0 }
		mutually_exclusive = { generic_mio_trait_stable_platforms }

		equipment_bonus = {
			breakthrough = 0.1
		}
	}

	trait = {
		token = generic_mio_trait_stable_platforms
		name = generic_mio_trait_stable_platforms
		icon = GFX_generic_mio_trait_icon_defense

		position = { x = 2 y = 0 }
		relative_position_id = generic_mio_trait_mobile_limbers

		mutually_exclusive = { generic_mio_trait_mobile_limbers }

		equipment_bonus = {
			defense = 0.03
		}
	}

	trait = {
		token = generic_mio_trait_improved_direct_fire_targeting
		name = generic_mio_trait_improved_direct_fire_targeting
		icon = GFX_generic_mio_department_icon_anti_tank

		position = { x =-1 y = 1 }
		relative_position_id = generic_mio_trait_quality_materials

		all_parents = {
			generic_mio_trait_quality_materials
		}

		mutually_exclusive = { generic_mio_trait_advanced_anti_air_targeting generic_mio_trait_advanced_trajectory_calculations }

		limit_to_equipment_type = {
			anti_tank_equipment
		}

		equipment_bonus = {
			ap_attack = 0.05
			hard_attack = 0.05
		}
	}

	trait = {
		token = generic_mio_trait_advanced_anti_air_targeting
		name = generic_mio_trait_advanced_anti_air_targeting
		icon = GFX_generic_mio_department_icon_anti_air

		position = { x = 1 y = 0 }
		relative_position_id = generic_mio_trait_improved_direct_fire_targeting

		all_parents = {
			generic_mio_trait_quality_materials
		}

		mutually_exclusive = {
			generic_mio_trait_improved_direct_fire_targeting
			generic_mio_trait_advanced_trajectory_calculations
		}

		limit_to_equipment_type = {
			anti_air_equipment
		}

		equipment_bonus = {
			air_attack = 0.07
		}
	}

	trait = {
		token = generic_mio_trait_advanced_trajectory_calculations
		name = generic_mio_trait_advanced_trajectory_calculations
		icon = GFX_generic_mio_department_icon_artillery

		position = { x = 2 y = 0 }
		relative_position_id = generic_mio_trait_improved_direct_fire_targeting

		all_parents = {
			generic_mio_trait_quality_materials
		}

		mutually_exclusive = {
			generic_mio_trait_improved_direct_fire_targeting
			generic_mio_trait_advanced_anti_air_targeting
		}

		limit_to_equipment_type = {
			artillery_equipment
			rocket_artillery_equipment
		}

		equipment_bonus = {
			hard_attack = 1
			breakthrough = 0.05
		}
	}

	trait = {
		token = generic_mio_trait_big_guns
		name = generic_mio_trait_big_guns
		icon = GFX_generic_mio_trait_icon_soft_attack

		position = { x = 0 y = 2 }
		relative_position_id = generic_mio_trait_rapid_fire

		all_parents = {
			generic_mio_trait_quality_materials
			generic_mio_trait_rapid_fire
		}
		limit_to_equipment_type = {
			artillery_equipment
			rocket_artillery_equipment
		}

		equipment_bonus = {
			soft_attack = 0.02
			build_cost_ic = 0.03
			breakthrough = 0.03
		}
	}

	trait = {
		token = generic_mio_trait_rapid_fire
		name = generic_mio_trait_rapid_fire
		icon = GFX_generic_mio_department_icon_tank_general_weapons

		position = { x = 4 y = 0 }
		relative_position_id = generic_mio_trait_mobile_limbers

		limit_to_equipment_type = {
			anti_tank_equipment
			anti_air_equipment
		}

		equipment_bonus = {
			soft_attack = 0.1
			hard_attack = 0.04
			air_attack = 0.04
		}
	}

	trait = {
		token = generic_mio_trait_gun_mass_production
		name = generic_mio_trait_gun_mass_production
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 2 }
		relative_position_id = generic_mio_trait_advanced_barrel_forging

		all_parents = { generic_mio_trait_advanced_barrel_forging }

		production_bonus = {
			production_efficiency_gain_factor = 0.03
			production_efficiency_cap_factor = 0.03
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.15
		}
	}

	trait = {
		token = generic_mio_trait_super_charges
		name = generic_mio_trait_super_charges
		icon = GFX_generic_mio_department_icon_facilities

		position = { x = 0 y = 1 }
		relative_position_id = generic_mio_trait_big_guns

		all_parents = { generic_mio_trait_big_guns }

		limit_to_equipment_type = {
			artillery_equipment
			rocket_artillery_equipment
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.03
			production_efficiency_cap_factor = 0.03
		}

		organization_modifier = {
			military_industrial_organization_design_team_assign_cost = -0.15
		}
	}

	trait = {
		token = generic_mio_trait_light_weight_barrels
		name = generic_mio_trait_light_weight_barrels
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = -1 y = 1 }
		relative_position_id = generic_mio_trait_gun_mass_production

		all_parents = {
			generic_mio_trait_super_charges
			generic_mio_trait_gun_mass_production
		}

		production_bonus = {
			production_cost_factor = -0.03
		}

		equipment_bonus = {
			breakthrough = 0.06
			defense = 0.1
		}
	}
	
	trait = {
		token = generic_mio_trait_medium_machineguns
		name = generic_mio_trait_medium_machineguns
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x = 4 y = 0 }
		relative_position_id = generic_mio_trait_light_weight_barrels

		all_parents = {
			generic_mio_trait_super_charges
			generic_mio_trait_gun_mass_production
		}

		equipment_bonus = {
			breakthrough = 0.06
			build_cost_ic = 0.08
		}
	}

	trait = {
		token = generic_mio_trait_advanced_barrel_forging
		name = generic_mio_trait_advanced_barrel_forging
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		position = { x = 1 y =1 }
		relative_position_id = generic_mio_trait_small_sidearms

		all_parents = { generic_mio_trait_small_sidearms }

		production_bonus = {
			production_efficiency_gain_factor = 0.03
		}
	}

	trait = {
		token = generic_mio_trait_quality_materials
		name = generic_mio_trait_quality_materials
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x = 3 y = 1 }
		relative_position_id = generic_mio_trait_small_sidearms

		any_parent = {
			generic_mio_trait_small_sidearms
			generic_mio_trait_stable_platforms
			generic_mio_trait_mobile_limbers
		}
		equipment_bonus = {
			reliability = 0.05
		}

	}

		
}