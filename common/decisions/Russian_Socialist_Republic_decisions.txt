# made by soclibdictator
	
RUS_Integration_decisions = {
	
		
	SOV_demand_subject_integration = {
		icon = eng_trade_unions_support
		name = china_integrate_subjects
		
		ai_will_do = {
			factor = 2000
		}
		
		available = {
			NOT = { has_war_together_with = FROM }
			if = {
				limit = { 
					FROM = { 
						has_autonomy_state = kr_autonomous_soviet_republic
					} 
				}
				is_neighbor_of = FROM
				received_expeditionary_forces = { sender = FROM value < 1 }
			}
		}
		cancel_trigger = {
			NOT = { has_subject = FROM }
		}
		
		targets = { UKR WHR GEO AZE ARM EST LAT LIT ALO TRK UZB KYR MON CRM KAR DKB KLY KUB MTR TRM MOL BRY YAK ABK WSU }
		target_root_trigger = { 
			is_faction_leader = yes 
			russian_civil_war = no
		}
		target_trigger = {
			has_subject = FROM
			FROM = { 
				OR = { 
					has_autonomy_state = kr_autonomous_soviet_republic
					has_autonomy_state = kr_soviet_republic_not_equal
					has_autonomy_state = kr_soviet_republic_equal
				}
			} 
		}

		cost = 70
		days_remove = 50
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_country_flag = SOV_soviet_federation
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SOV_demand_subject_integration target: [From.GetName]"
			hidden_effect = { FROM = { remove_mission = SOV_subject_integration_timer } }
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_demand_subject_integration target: [From.GetName]"
			FROM = {
				country_event = russoc.500
				hidden_effect = { activate_mission = SOV_subject_integration_timer }
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SOV_demand_subject_integration target: [From.GetName]"
			FROM = {
				hidden_effect = { country_event = russoc.501 }
				effect_tooltip = { save_global_event_target_as = target }
			}
			effect_tooltip = {
				add_collaboration = { target = FROM value = 0.05 }
				if = {
					limit = { FROM = { has_autonomy_state = kr_autonomous_soviet_republic } }
					SOV_integrate_TARGET_effect = yes
				}
				else_if = {
					limit = { FROM = { has_autonomy_state = kr_soviet_republic_not_equal } }
					set_autonomy = {
						target = FROM
						autonomy_state = kr_autonomous_soviet_republic
						end_wars = no
					}
				}
				else_if = {
					limit = { FROM = { has_autonomy_state = kr_soviet_republic_equal } }
					set_autonomy = {
						target = FROM
						autonomy_state = kr_soviet_republic_not_equal
						end_wars = no
					}
				}
			}
		}
	}	
		
	SOV_subject_integration_timer = {
		icon = eng_trade_unions_demand
		name = china_integration_timer

		allowed = { always = no }

		available = {
			has_capitulated = no
			NOT = { has_war_together_with = overlord }
		}

		cancel_trigger = {
			is_subject = no
		}

		cost = 0
		is_good = yes
		days_mission_timeout = 100
		selectable_mission = yes

		ai_will_do = { factor = 0 }

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel SOV_subject_integration_timer target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_subject_integration_timer target: [From.GetName]"
			set_country_flag = @ROOT_revolted_against_@var:overlord
			create_wargoal = {
				target = overlord
				type = topple_government
			}
			custom_effect_tooltip = tooltip_white_line
			overlord = {
				effect_tooltip = {
					activate_targeted_decision = { target = FROM decision = RUS_Attack_Country_default }
				}
				country_event = russoc.503
			}
			custom_effect_tooltip = tooltip_white_line
			SOV_break_puppet_effect = yes
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SOV_subject_integration_timer target: [From.GetName]"
		}
	}
}
SOV_Emergency_Congress_decisions = {
	SOV_question_of_the_trade_unions = {
		icon = GFX_decision_generic_political_discourse
		allowed = { always = no }
		cancel_if_not_visible = yes
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_the_trade_unions target: [From.GetName]"
			set_country_flag = SOV_question_of_the_trade_unions_completed
			country_event = russoc.8
		}
	}
	SOV_question_of_autonomies = {
		icon = GFX_decision_generic_form_nation
		allowed = { always = no }
		cancel_if_not_visible = yes
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_autonomies target: [From.GetName]"
			set_country_flag = SOV_question_of_autonomies_completed
			country_event = russoc.7
		}
	}
	SOV_question_of_land = {
		icon = GFX_decision_POL_looming_peasants_strike
		allowed = { always = no }
		cancel_if_not_visible = yes
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_land target: [From.GetName]"
			set_country_flag = SOV_question_of_land_completed
			country_event = russoc.10
		}
	}
	SOV_question_of_banks_trade = {
		icon = GFX_decision_generic_fundraising
		allowed = { always = no }
		cancel_if_not_visible = yes
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_banks_trade target: [From.GetName]"
			set_country_flag = SOV_question_of_banks_trade_completed
			country_event = russoc.4
		}
	}
	SOV_question_of_labor_conscription = {
		icon = GFX_decision_eng_trade_unions_demand
		allowed = { always = no }
		cancel_if_not_visible = yes
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_labor_conscription target: [From.GetName]"
			set_country_flag = SOV_question_of_labor_conscription_completed
			country_event = russoc.6
		}
	}
	SOV_question_of_constitution = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = { always = no }
		cancel_if_not_visible = yes
		available = {
			has_country_flag = SOV_question_of_the_trade_unions_completed
			has_country_flag = SOV_question_of_autonomies_completed
			has_country_flag = SOV_question_of_land_completed
			has_country_flag = SOV_question_of_banks_trade_completed
			has_country_flag = SOV_question_of_labor_conscription_completed
		}
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_question_of_constitution target: [From.GetName]"
			country_event = russoc.11
		}
	}
	SOV_boost_plsr = {
		icon = GFX_decision_generic_nationalism
		allowed = { always = no }
		available = {
			NOT = { has_country_flag = soviet_congress_end }
		}
		
		cancel_if_not_visible = yes		
		
		cost = 15
		fire_only_once = no
		days_remove = 20
		days_re_enable = 5 
		
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_boost_plsr target: [From.GetName]"
			SOV_soviet_congress_increase_plsr = yes
		}
	}
	SOV_boost_psr = {
		icon = GFX_decision_generic_nationalism
		allowed = { always = no }
		available = {
			NOT = { has_country_flag = soviet_congress_end }
		}
		visible = {
			NOT = { has_country_flag = psr_banned }
		}
		
		cancel_if_not_visible = yes		
		
		cost = 15
		fire_only_once = no
		days_remove = 20
		days_re_enable = 5 
		
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_boost_psr target: [From.GetName]"
			SOV_soviet_congress_increase_psr = yes
		}
	}
	SOV_boost_nsp = {
		icon = GFX_decision_generic_nationalism
		allowed = { always = no }
		available = {
			NOT = { has_country_flag = soviet_congress_end }
		}
		
		cancel_if_not_visible = yes		
		
		cost = 15
		fire_only_once = no
		days_remove = 20
		days_re_enable = 5 
		
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_boost_nsp target: [From.GetName]"
			SOV_soviet_congress_increase_nsp = yes
		}
	}
	SOV_boost_rsdrp = {
		icon = GFX_decision_generic_nationalism
		allowed = { always = no }
		available = {
			NOT = { has_country_flag = soviet_congress_end }
		}
		
		cancel_if_not_visible = yes		
		
		cost = 15
		fire_only_once = no
		days_remove = 20
		days_re_enable = 5 
		
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SOV_boost_rsdrp target: [From.GetName]"
			SOV_soviet_congress_increase_rsdrp = yes
		}
	}
}
RUS_Economy_decisions = {
	SOV_The_First_Five_Year_Plan = {
		icon = eng_trade_unions_demand

		allowed = { always = no } #manually activated

		available = {
			num_of_factories > 200
			has_completed_focus = RUS_Form_Gosplan
			has_completed_focus = RUS_GOELRO
			has_completed_focus = RUS_Mechanization
			has_completed_focus = RUS_Promote_Industrialization
			has_completed_focus = SOV_Hydroelectricity
			has_completed_focus = RUS_SOV_Expand_The_Railway_Network
			has_completed_focus = RUS_SOV_Ural_Tractor_Plants
			has_completed_focus = RUS_Resource_Prospection
			has_completed_focus = RUS_Defending_Our_Lifelines
			has_completed_focus = RUS_Socialist_Economic_Miracle
			
		}

		is_good = no
		selectable_mission = yes
		days_mission_timeout = 1825

		ai_will_do = { factor = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOV_The_First_Five_Year_Plan"
			add_political_power = 100
			add_stability = 0.10
			add_war_support = 0.2
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SOV_The_First_Five_Year_Plan"
			add_political_power = -100
			add_stability = -0.30
			add_war_support = -0.4
		}
	}
}
