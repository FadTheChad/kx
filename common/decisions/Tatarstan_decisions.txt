TTR_Three_Tatar_Councils = {
	TTR_parliamentary_elections = {
		icon = GFX_decision_eng_propaganda_campaigns
		allowed = { always = no }
		cancel_trigger = {
			NOT = { has_government = authoritarian_democrat }		
		}
		available = {
			hidden_trigger = { always = no }
		}
		
		selectable_mission = no
		is_good = yes
		fire_only_once = yes
		days_mission_timeout = 30
		
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel TTR_parliamentary_elections target: [From.GetName]"
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TTR_parliamentary_elections target: [From.GetName]"
			country_event = ttr.100
		}
	}
	TTR_promote_unity = {
		icon = GFX_decision_generic_political_discourse
		available = { has_government = authoritarian_democrat }
		modifier = { 
			political_power_cost = 0.10
		}
		
		cost = 25
		
		fire_only_once = no
		days_remove = 15
		days_re_enable = 30
		
		
		ai_will_do = { base = 10 }
		cancel_if_not_visible = yes
		
		cancel_effect= {
			log = "[GetDateText]: [Root.GetName]: Decision cancel TTR_promote_unity"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_promote_unity"	
			set_temp_variable = { TTR_change_influence = 2 }
			TTR_change_milli_idara_var = yes
			add_popularity = { ideology = social_democrat popularity = 0.02 }
			add_popularity = { ideology = market_liberal popularity = 0.03 }
			add_popularity = { ideology = social_conservative popularity = 0.03 }
			add_popularity = { ideology = authoritarian_democrat popularity = 0.02 }
		}
	}
	TTR_lobby_tatar_legion = {
		icon = GFX_decision_eng_blackshirt_march
		available = { has_government = authoritarian_democrat }
		modifier = { 
			political_power_cost = 0.10
		}
		
		custom_cost_text = CP_15
		custom_cost_trigger = { command_power > 14.99 }
		
		fire_only_once = no
		days_remove = 15
		days_re_enable = 30
		
		
		ai_will_do = { base = 10 }
		cancel_if_not_visible = yes
		
		cancel_effect= {
			log = "[GetDateText]: [Root.GetName]: Decision cancel TTR_lobby_tatar_legion"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TTR_lobby_tatar_legion"	
			hidden_effect = { add_command_power = -15 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_lobby_tatar_legion"	
			set_temp_variable = { TTR_change_alignment = 1 }
			TTR_change_legion_alignment = yes
			set_temp_variable = { TTR_change_influence = 2 }
			TTR_change_legion_var = yes
			add_popularity = { ideology = national_populist popularity = 0.03 }
		}
	}
	TTR_discredit_muskom = {
		icon = GFX_decision_eng_trade_unions_demand
		available = { has_government = authoritarian_democrat }
		modifier = { 
			political_power_cost = 0.10
		}
		
		cost = 30
		
		fire_only_once = no
		days_remove = 15
		days_re_enable = 30
		
		
		ai_will_do = { base = 10 }
		cancel_if_not_visible = yes
		
		cancel_effect= {
			log = "[GetDateText]: [Root.GetName]: Decision cancel TTR_discredit_muskom"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_discredit_muskom"	
			set_temp_variable = { TTR_change_influence = -2 }
			TTR_change_muskom_var = yes
			add_popularity = { ideology = radical_socialist popularity = -0.03 }
		}
	}
}
foreign_politics = {	
	TTR_remove_russians = {
		icon = generic_civil_support
		allowed = { always = no }		
		visible = {
			has_country_leader = { name = "Mirsäyet Soltanğäliev" ruling_only = yes }
		}
		
		cost = 0
		days_remove = 30
		fire_only_once = yes
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 3
				FROM = {
					is_in_faction = no 
					has_war = yes
				}				
			}
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 0.8
					surrender_progress > 0
					strength_ratio = { tag = FROM ratio < 1.0 }
					FROM = {
						is_subject = yes
						overlord = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
						}
					}
					FROM = {
						is_in_faction = yes
						faction_leader = {
							strength_ratio = { tag = ROOT ratio > 0.8 }
						}
					}
					has_country_flag = imminent_war
				}	
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_remove_russians"
			set_country_flag = { flag = imminent_war days = 35 value = 1 }
			if = {
				limit = { is_ai = yes } #XD fanservice give a nice attack
				setup_decision_attack_AI = yes
				FROM = { country_event = kr.political.30 } #warning event
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_remove_russians"
			clear_decision_attack_AI = yes
			hidden_effect = {
				every_state = {
					limit = {
						NOT = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
						}
						ROOT = { divisions_in_state = { state = PREV size > 0 } }
					}
					teleport_armies = {
						limit = { tag = ROOT }
						to_state_array = owned_controlled_states
					}
				}
				every_owned_state = {
					teleport_armies = {
						limit = {
							NOT = {
								tag = ROOT
								has_war_with = ROOT
							}
						}
						to_state_array = owned_controlled_states
					}
				}
			}
			remove_puppet_and_leave_faction = yes
			peace_out_non_neighbours_after_leaving_faction = yes			
			remove_from_all_tech_sharing_groups = yes
			every_other_country = {
				limit = {
					OR = {
						has_cosmetic_tag = CRM_state
						has_cosmetic_tag = AZE_state
						has_cosmetic_tag = ALO_state
						has_cosmetic_tag = TRK_state
					}
					is_subject_of = FROM
				}
				hidden_effect = {
					every_state = {
						limit = {
							NOT = {
								is_owned_by = PREV
								is_controlled_by = PREV
							}
							PREV = { divisions_in_state = { state = PREV.PREV size > 0 } }
						}
						teleport_armies = {
							limit = { tag = PREV }
							to_state_array = owned_controlled_states
						}
					}
					every_owned_state = {
						teleport_armies = {
							limit = {
								NOT = {
									tag = PREV
									has_war_with = PREV
								}
							}
							to_state_array = owned_controlled_states
						}
					}
				}
				remove_puppet_and_leave_faction = yes
				peace_out_non_neighbours_after_leaving_faction = yes			
				remove_from_all_tech_sharing_groups = yes
				get_current_government_type = yes
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomous_territory
						end_wars = no
					}
				}
				restore_previous_government_type = yes
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { has_cosmetic_tag = TTR_BKN }
				set_cosmetic_tag = TTR_IDU
			}
		}
	}
	TTR_crimea_state = {
		icon = generic_civil_support
		allowed = { always = no }		
		visible = {
			has_socialist_government = yes
			if = {
				limit = { is_subject_of = RUS }
				NOT = { has_country_flag = TTR_russia_blocked_crimea }
			}
		}
		available = {
			has_cosmetic_tag = TTR_IDU
			137 = { is_owned_by_ROOT_or_ally = yes }
			1220 = { is_owned_by_ROOT_or_ally = yes }
			1221 = { is_owned_by_ROOT_or_ally = yes }
			196 = { is_owned_by_ROOT_or_ally = yes }
			1234 = { is_owned_by_ROOT_or_ally = yes }
			if = {
				limit = { is_subject_of = RUS }
				OR = {
					CRM = { is_subject_of = RUS }
					NOT = { country_exists = CRM }
				}
			}
			else = {
				OR = {
					CRM = { is_subject_of = ROOT }
					NOT = { country_exists = CRM }
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_crimea_state"
			if = {
				limit = { is_subject_of = RUS }
				RUS = { 
					country_event = tatsoc.34
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by_ROOT_or_ally = yes
						OR = {
							state = 137
							state = 1220
							state = 1221
							state = 196
							state = 1234
						}
					}
					add_core_of = CRM
				}
				set_temp_variable = { tag_to_release = CRM }
				release_targeted_tag = yes
				CRM = {
					set_cosmetic_tag = CRM_state										
					create_country_leader = {
						name = "Ismail Kerimcanov"
						picture = "gfx/leaders/CRM/Portrait_CRM_Ismail_Kerimjanov.png"
						expire = "1.1.1"
						ideology = islamic_socialism_subtype
					}
					set_party_name = {
						ideology = radical_socialist
						name = CRM_radical_socialist_party3
						long_name = CRM_radical_socialist_party3_long
					}
					set_politics = { ruling_party = radical_socialist }
				}
			}
		}
	}
	TTR_caucasus_state = {
		icon = generic_civil_support
		allowed = { always = no }		
		visible = {
			has_socialist_government = yes
			if = {
				limit = { is_subject_of = RUS }
				NOT = { has_country_flag = TTR_russia_blocked_caucasus }
			}
		}
		available = {
			has_cosmetic_tag = TTR_IDU
			1227 = { is_owned_by_ROOT_or_ally = yes }
			1080 = { is_owned_by_ROOT_or_ally = yes }
			990 = { is_owned_by_ROOT_or_ally = yes }
			229 = { is_owned_by_ROOT_or_ally = yes }
			232 = { is_owned_by_ROOT_or_ally = yes }
			787 = { is_owned_by_ROOT_or_ally = yes }
			if = {
				limit = { is_subject_of = RUS }
				OR = {
					AZE = { is_subject_of = RUS }
					NOT = { country_exists = AZE }
				}
			}
			else = {
				OR = {
					AZE = { is_subject_of = ROOT }
					NOT = { country_exists = AZE }
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_caucasus_state"
			if = {
				limit = { is_subject_of = RUS }
				RUS = { 
					country_event = tatsoc.36
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by_ROOT_or_ally = yes
						OR = {
							state = 1227
							state = 1190
							state = 1080
							state = 1188
							state = 1187
							state = 1186
							state = 233
							state = 787
							state = 1191
							state = 232
							state = 1267
							state = 1081
							state = 1301
							state = 1300
							state = 1082
							state = 1303
							state = 1299
							state = 1298
							state = 998
							state = 1302
							state = 229
							state = 1304
							state = 990
						}
					}
					add_core_of = AZE
				}
				set_temp_variable = { tag_to_release = AZE }
				release_targeted_tag = yes
				AZE = {
					set_cosmetic_tag = AZE_state
					set_politics = { ruling_party = radical_socialist }
				}
			}
		}
	}
	TTR_kazakhstan_state = {
		icon = generic_civil_support
		allowed = { always = no }		
		visible = {
			has_socialist_government = yes
			if = {
				limit = { is_subject_of = RUS }
				NOT = { has_country_flag = TTR_russia_blocked_kazakhstan }
			}
		}
		available = {
			has_cosmetic_tag = TTR_IDU
			810 = { is_owned_by_ROOT_or_ally = yes }
			if = {
				limit = { is_subject_of = RUS }
				OR = {
					ALO = { is_subject_of = RUS }
					NOT = { country_exists = ALO }
				}
			}
			else = {
				OR = {
					ALO = { is_subject_of = ROOT }
					NOT = { country_exists = ALO }
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_kazakhstan_state"
			if = {
				limit = { is_subject_of = RUS }
				RUS = { 
					country_event = tatsoc.37
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by_ROOT_or_ally = yes
						OR = {
							state = 810
							state = 404
							state = 590
							state = 588
							state = 583
							state = 402
							state = 1212
							state = 1224
							state = 236							
						}
					}
					add_core_of = ALO
				}
				set_temp_variable = { tag_to_release = ALO }
				release_targeted_tag = yes
				ALO = {
					set_cosmetic_tag = ALO_state
					set_politics = { ruling_party = radical_socialist }
				}
			}
		}
	}
	TTR_turkestan_state = {
		icon = generic_civil_support
		allowed = { always = no }		
		visible = {
			has_socialist_government = yes
			if = {
				limit = { is_subject_of = RUS }
				NOT = { has_country_flag = TTR_russia_blocked_turkestan }
			}
		}
		available = {
			has_cosmetic_tag = TTR_IDU
			407 = { is_owned_by_ROOT_or_ally = yes }
			1279 = { is_owned_by_ROOT_or_ally = yes }
			405 = { is_owned_by_ROOT_or_ally = yes }
			861 = { is_owned_by_ROOT_or_ally = yes }
			584 = { is_owned_by_ROOT_or_ally = yes }
			if = {
				limit = { is_subject_of = RUS }
				OR = {
					TRK = { is_subject_of = RUS }
					NOT = { country_exists = TRK }
				}
			}
			else = {
				OR = {
					TRK = { is_subject_of = ROOT }
					NOT = { country_exists = TRK }
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100			
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TTR_turkestan_state"
			if = {
				limit = { is_subject_of = RUS }
				RUS = { 
					country_event = tatsoc.38
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by_ROOT_or_ally = yes
						OR = {
							region = 243					
							region = 245
							state = 589
							state = 587
						}
					}
					add_core_of = TRK
				}
				set_temp_variable = { tag_to_release = TRK }
				release_targeted_tag = yes
				TRK = {
					set_cosmetic_tag = TRK_state
					set_politics = { ruling_party = radical_socialist }
				}
			}
		}
	}
}