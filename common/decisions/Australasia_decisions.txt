###########################
# Australasia Decisions
###########################
# By Rylock
###########################

political_actions = {

	AST_trade_mission_commonwealth = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = AST_recent_trade_mission }
		}

		visible = {
			has_completed_focus = AST_trade_with_the_commonwealth
			is_in_faction_with = ENT
			FROM = {
				exists = yes
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		target_root_trigger = {
			has_completed_focus = AST_trade_with_the_commonwealth
		}

		target_array = allies

		target_trigger = {
			FROM = {
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 90

		fire_only_once = no

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_commonwealth target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.500
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_commonwealth target: [From.GetName]"
			clr_country_flag = AST_recent_trade_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_trade_mission_new = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = AST_recent_trade_mission }
		}

		visible = {
			OR = {
				has_completed_focus = AST_find_new_markets
				AND = {
					has_completed_focus = AST_trade_with_the_commonwealth
					NOT = { is_in_faction_with = ENT }
				}
			}
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					NOT = { has_socialist_government = yes }
					AST = { has_socialist_government = yes }
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		targets = { JAP SAF PRF BHC SIA CSA USA FRA ENG CAL TEX NEE QIE FNG GXC SZC CHI YUN LEC TRM RUS }

		target_root_trigger = {
			OR = {
				has_completed_focus = AST_find_new_markets
				has_completed_focus = AST_trade_with_the_commonwealth
			}
		}

		target_trigger = {
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					same_government_type_as_ROOT = yes
					tag = JAP
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 90

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_new target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.500
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_new target: [From.GetName]"
			clr_country_flag = AST_recent_trade_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_restore_order_nzl = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			has_war = no
		}

		visible = {
			OR = {
				284 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
				723 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
			}
		}

		days_remove = 180
		days_re_enable = 360

		fire_only_once = no

		modifier = {
			stability_factor = -0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_restore_order_nzl"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_restore_order_nzl"
			add_stability = 0.05
			every_owned_state = {
				limit = {
					OR = {
						state = 284
						state = 723
					}
					is_controlled_by = AST
					NOT = { is_core_of = AST }
				}
				if = {
					limit = { is_claimed_by = AST }
					remove_claim_by = AST
				}
				add_core_of = AST
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
}

AST_bastion_of_empire_decisions = {
	MEX_support_nicaragua = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = MEX }
		available = {
			has_war = no
		}
		visible = {
			OR = {
				has_socialist_government = yes
				has_government = social_democrat
			}
			NIC = {
				OR = {
					has_socialist_government = yes
					has_government = social_democrat
				}
				has_war = yes
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MEX_support_nicaragua"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = NIC
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = NIC
			}
			NIC = {
				country_event = mexico.210
			}
			set_country_flag = MEX_supported_nicargua
		}
	}

	AST_claim_singapore = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 336
			}
		}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			336 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				336 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				336 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a different government type
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				336 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							same_government_type_as_ROOT = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_singapore"
			336 = {
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
				owner = {
					country_event = austral.354
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = austral.354 }
					}
				}
			}
		}
	}

	AST_claim_sarawak = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 333
			}
		}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			333 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				333 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				333 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a different government type
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				333 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							same_government_type_as_ROOT = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_sarawak"
			every_state = {
				limit = {
					OR = {
						state = 333 #Nordborneo
						state = 828 #Sabah
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 333 #Nordborneo
							state = 828 #Sabah
						}
					}
				}
				country_event = austral.355
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.355 }
				}
			}
		}
	}

	AST_claim_new_guinea = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
		highlight_state_targets = {
			state = 757
		}
		}

		available = {
			is_subject = no
			owns_state = 523 #New Guinea
			controls_all_owned_states = yes
		}

		visible = {
			757 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				757 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				757 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a syndicalist country
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				757 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
			# democratic AST will not use on GER/GEA unless at war with them
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				757 = {
					owner = {
						OR = {
							tag = GER
							is_subject_of = GER
						}
						NOT = {
							has_war_with = AST
							GER = { has_war_with = AST }
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_new_guinea"
			every_state = {
				limit = {
					OR = {
						state = 757 #Kaiser Wilhelmsland
						state = 737 #Bismark Archipel
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 757 #Kaiser Wilhelmsland
							state = 737 #Bismark Archipel
						}
					}
				}
				country_event = austral.350
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.350 }
				}
			}
		}
	}

	AST_claim_melanesia = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
		highlight_state_targets = {
				state = 634
			}
		}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			634 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				634 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				634 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				634 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_melanesia"
			every_state = {
				limit = {
					OR = {
						state = 634 #Salomon Inseln
						state = 635 #Neuelsass
						state = 725 #Nawodo
						state = 734 #Thilenius Inseln
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 634 #Salomon Inseln
							state = 635 #Neuelsass
							state = 725 #Nawodo
							state = 734 #Thilenius Inseln
						}
					}
				}
				country_event = austral.351
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.351 }
				}
			}
		}
	}

	AST_claim_south_pacific = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 643
			}
		}

		available = {
			is_subject = no
			OR = {
				owns_state = 636 #Fiji
				owns_state = 284 #New Zealand
			}
			controls_all_owned_states = yes
		}

		visible = {
			643 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				643 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				643 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				643 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_south_pacific"
			every_state = {
				limit = {
					OR = {
						state = 941 #Deutsch Samoa
						state = 641 #Deutsch Polynesia
						state = 643 #Ellis Islands
						state = 639 #Gilbert Islands
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 941 #Deutsch Samoa
							state = 641 #Deutsch Polynesia
							state = 643 #Ellis Islands
							state = 639 #Gilbert Islands
						}
					}
				}
				country_event = austral.352
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.352 }
				}
			}
		}
	}

	AST_claim_caroline_islands = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 684
			}
		}

		available = {
			is_subject = no
			OR = {
				controls_state = 757 #Kaiser-Wilhelmsland
				controls_state = 639 #Gilbert Islands
				controls_state = 684 #Caroline Islands
			}
			controls_all_owned_states = yes
		}

		visible = {
			684 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				684 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				684 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				684 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
			# democratic AST will not use on GER/GEA unless at war with them
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				684 = {
					owner = {
						OR = {
							tag = GER
							is_subject_of = GER
						}
						NOT = {
							has_war_with = AST
							GER = { has_war_with = AST }
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_caroline_islands"
			every_state = {
				limit = {
					OR = {
						state = 633 #Marshall Islands
						state = 684 #Caroline Islands
						state = 647 #Palau
						state = 646 #Marianas
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 633 #Marshall Islands
							state = 684 #Caroline Islands
							state = 647 #Palau
							state = 646 #Marianas
						}
					}
				}
				country_event = austral.353
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.353 }
				}
			}
		}
	}

	AST_claim_malaya = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 846
			}
		}

		available = {
			is_subject = no
			OR = {
				controls_state = 336 #Singapore
				controls_state = 333 #North Borneo
				controls_state = 846 #Malaya
			}
			controls_all_owned_states = yes
		}

		visible = {
			846 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				846 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				846 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_malaya"
			846 = {
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
				owner = {
					country_event = austral.356
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = austral.356 }
					}
				}
			}
		}
	}

	AST_claim_western_new_guinea = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 843
			}
		}

		available = {
			is_subject = no
			owns_state = 523 #New Guinea
			controls_all_owned_states = yes
		}

		visible = {
			OR = {
				has_government = national_populist
				has_socialist_government = yes
			}
			843 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				843 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				843 = { owner = { has_socialist_government = yes } }
			}
			# nat pop AST will not use unless owned by a syndicalist country or at war
			modifier = {
				factor = 0
				has_government = national_populist
				843 = {
					owner = {
						NOT = {
							has_war_with = AST
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_western_new_guinea"
			every_state = {
				limit = {
					OR = {
						state = 843 #Southwest New Guinea
						state = 669 #Northwest New Guinea
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 843 #Southwest New Guinea
							state = 669 #Northwest New Guinea
						}
					}
				}
				country_event = austral.357
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.357 }
				}
			}
		}
	}

	AST_claim_timor = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 721
			}
		}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			OR = {
				has_government = national_populist
				has_socialist_government = yes
			}
			721 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				721 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				721 = { owner = { has_socialist_government = yes } }
			}
			# nat pop AST will not use unless owned by a syndicalist country or at war
			modifier = {
				factor = 0
				has_government = national_populist
				721 = {
					owner = {
						NOT = {
							has_war_with = AST
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_timor"
			every_state = {
				limit = {
					OR = {
						state = 721 #Portuguese Timor
						state = 972 #Oecusse
						state = 1017 #Dutch Timor
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 721 #Portuguese Timor
							state = 972 #Oecusse
							state = 1017 #Dutch Timor
						}
					}
				}
				country_event = austral.358
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.358 }
				}
			}
		}
	}

	AST_demand_claimed_territory = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
				NOT = {
					has_country_flag = AST_recently_made_demand
					has_non_aggression_pact_with = FROM
					has_war_together_with = FROM
				}
			}
			can_declare_war_on = FROM
		}

		visible = {
			is_subject = no
			FROM = {
				exists = yes
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
					AND = {
						has_global_flag = ENT_agree_colonies
						AST = { is_in_faction_with = ENT }
						is_in_faction_with = GER
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
				}
			}
		}

		days_remove = 180

		fire_only_once = no

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_demand_claimed_territory target: [From.GetName]"
			set_country_flag = AST_recently_made_demand
			if = {
				limit = { FROM = { is_subject = yes } }
				FROM = {
					save_event_target_as = puppet_owner
					overlord = {
						country_event = austral.360
					}
				}
				else = {
					FROM = { country_event = austral.360 }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_demand_claimed_territory target: [From.GetName]"
			clr_country_flag = AST_recently_made_demand
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
					FROM = { dont_start_major_faction_wars = yes }
				}
			}
		}
	}

	AST_seize_new_guinea = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			divisions_in_state = { state = 523 size > 0 } #New Guinea
		}

		visible = {
			is_subject = no
			owns_state = 523
			controls_state = 523
			757 = {
				has_state_flag = AST_claimed_anderson
				is_claimed_by = AST
				owner = {
					has_war = yes
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_new_guinea"
			757 = {
				owner = {
					country_event = austral.364
				}
			}
			if = {
				limit = {
					757 = {
						owner = {
							owns_state = 737 #Bismark Archipelago
							divisions_in_state = { state = 737 size < 1 }
						}
					}
				}
				effect_tooltip = {
					transfer_state = 737
				}
			}
			effect_tooltip = {
				transfer_state = 757
			}
		}
	}

	AST_seize_western_new_guinea = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			OR = {
				divisions_in_state = { state = 523 size > 0 } #New Guinea
				divisions_in_state = { state = 757 size > 0 } #Kaiser-Wilhelmsland
			}
		}

		visible = {
			is_subject = no
			OR = {
				523 = { is_owned_and_controlled_by = AST }
				757 = { is_owned_and_controlled_by = AST }
			}
			OR = {
				843 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
				669 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
			}
		}

		fire_only_once = no

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_western_new_guinea"
			every_other_country = {
				limit = {
					has_war = yes
					any_owned_state = {
						OR = {
							state = 843 #Southwest New Guinea
							state = 669 #Northwest New Guinea
						}
					}
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
					}
				}
				country_event = austral.365
				if = {
					limit = {
						owns_state = 843
					}
					effect_tooltip = {
						AST = { transfer_state = 843 }
					}
				}
				if = {
					limit = {
						owns_state = 669
					}
					effect_tooltip = {
						AST = { transfer_state = 669 }
					}
				}
			}
		}
	}

	AST_seize_timor = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			divisions_in_state = { state = 520 size > 0 } #Northern Territory
		}

		visible = {
			is_subject = no
			520 = { is_owned_and_controlled_by = AST }
			OR = {
				721 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
				1017 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
			}
		}

		fire_only_once = no

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_timor"
			every_other_country = {
				limit = {
					has_war = yes
					any_owned_state = {
						OR = {
							state = 721
							state = 972
							state = 1017
						}
					}
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
					}
				}
				country_event = austral.365
				if = {
					limit = {
						owns_state = 721
					}
					effect_tooltip = {
						AST = { transfer_state = 721 }
					}
				}
				if = {
					limit = {
						owns_state = 972
					}
					effect_tooltip = {
						AST = { transfer_state = 972 }
					}
				}
				if = {
					limit = {
						owns_state = 1017
					}
					effect_tooltip = {
						AST = { transfer_state = 1017 }
					}
				}
			}
		}
	}
}

AST_exploit_resources = {

	AST_develop_queensland_coal_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
			state = 521
		}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_coal_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_coal_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_coal_mines"
			521 = {
				set_state_flag = AST_coal_mines_developed
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_victoria_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 517
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			517 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		visible = {
			517 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_victoria_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_victoria_aluminium_deposits"
			517 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_tasmania_iron_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 518
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			518 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		visible = {
			518 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_tasmania_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_tasmania_iron_mines"
			518 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_new_zealand_coal_mines = {
		icon = steel

		allowed = {
			OR = {
				tag = AST
				tag = NZL
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 284
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			284 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_completed_focus = AST_australasian_trade_commissioner_service
				AND = {
					has_tech = excavation2
					NOT = { tag = AST }
				}
			}
		}

		visible = {
			284 = {
				is_owned_and_controlled_by = ROOT
				NOT = { has_state_flag = AST_coal_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_new_zealand_coal_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_new_zealand_coal_mines"
			284 = {
				set_state_flag = AST_coal_mines_developed
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_nsw_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 285
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			285 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_australasian_trade_commissioner_service
		}

		visible = {
			285 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_nsw_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_nsw_aluminium_deposits"
			285 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_kimberley_iron_mines = {	
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 987
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			987 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_expand_west_australasian_petroleum
		}

		visible = {
			987 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_kimberley_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_kimberley_iron_mines"
			987 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_queensland_oil_deposits = {
		icon = oil

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 521
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_expand_west_australasian_petroleum
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_oil_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"
			521 = {
				set_state_flag = AST_oil_developed
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_new_zealand_oil_deposits = {
		icon = oil

		allowed = {
			OR = {
				tag = AST
				tag = NZL
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 284
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			284 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_completed_focus = AST_expand_west_australasian_petroleum
				AND = {
					has_tech = excavation3
					NOT = { tag = AST }
				}
			}
		}

		visible = {
			284 = {
				is_owned_and_controlled_by = ROOT
				NOT = { has_state_flag = AST_oil_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_new_zealand_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_new_zealand_oil_deposits"
			284 = {
				set_state_flag = AST_oil_developed
				add_resource = {
					type = oil
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

AST_scorched_earth_decisions = {
	AST_scorched_earth_preperation = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {

		}

		visible = {

		}

		days_remove = 180
		days_re_enable = 360

		fire_only_once = no

		modifier = {

		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_scorched_earth_preperation"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_scorched_earth_preperation"
		}

		ai_will_do = {
			factor = 50
		}
	}
	UKR_emergency_recruitment = {
		icon = GFX_decision_soldierly_discipline
		
		available = {
			surrender_progress > 0.1
			if = {
				limit = { 
					is_ai = yes
					NOT = { has_game_rule = { rule = unit_limit_options option = NONE } } 
				}
				has_reached_maximum_divisions = no
			}
		}
		visible = {
			has_capitulated = no
			if = {
				limit = { has_idea = UKR_teroborona_idea }
				has_defensive_war = no
			}
		}

		days_remove = 21
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_manpower < 20000
					has_war_support < 0.4
				}
			}
		}
		cancel_if_not_visible = yes

		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.02
		}
		custom_cost_text = UKR_2_ws_10000_mp_tooltip

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete UKR_emergency_recruitment"
			add_manpower = -10000
			add_war_support = -0.02
			add_to_variable = { UKR_militia_manpower = 10000 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_emergency_recruitment"
			custom_effect_tooltip = UKR_volunteers_tt
			hidden_effect = {
				activate_targeted_decision = { decision = UKR_demobilize_volunteers target = ROOT }
				if = {
					limit = { NOT = { has_template = "Dobrovolchyi Zahin" } }
					division_template = {
						name = "Dobrovolchyi Zahin"
						division_names_group = UKR_MIL_01
						regiments = {
							irregular_infantry = { x = 0 y = 0 }
							irregular_infantry = { x = 0 y = 1 }
							irregular_infantry = { x = 0 y = 2 }
							irregular_infantry = { x = 1 y = 0 }
							irregular_infantry = { x = 1 y = 1 }
						}
						template_counter = 68
					}
				}
				random_owned_controlled_state = {
					prioritize = { 202 }
					create_unit = {
						division = "division_template = \"Dobrovolchyi Zahin\" start_experience_factor = 0.3 start_equipment_factor = 1"
						owner = ROOT
						count = 2
					}
				}
			}
		}
	}
	UKR_demobilize_volunteers = {
		icon = GFX_decision_peace_dove
		allowed = { always = no }

		visible = { has_template = "Dobrovolchyi Zahin" }
		days_remove = 14
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				has_war = no
			}
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete UKR_demobilize_volunteers"
			remove_targeted_decision = { decision = UKR_emergency_recruitment target = ROOT }
			custom_effect_tooltip = UKR_demobilize_volunteers_tt
			hidden_effect = {
				delete_units = {
					division_template = "Dobrovolchyi Zahin"
					disband = no
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_demobilize_volunteers"
			add_manpower = UKR_militia_manpower
		}
	}
	UKR_organise_partisan_cells = {
		icon = GFX_decision_cavalry

		available = {
			surrender_progress > 0.2
		}

		days_remove = 120
		ai_will_do = { factor = 10 }

		custom_cost_trigger = {
			command_power > 20
			has_manpower > 1000
		}
		custom_cost_text = UKR_1000_manpower_20_cp_tooltip

		modifier = {
			resistance_growth_on_our_occupied_states = 0.33
			resistance_target_on_our_occupied_states = 0.15
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete UKR_organise_partisan_cells"
			add_command_power = -20
			add_manpower = -1000
			add_war_support = 0.03
		}
	}
	UKR_not_step_back = {
		icon = GFX_decision_generic_tank

		available = {
			surrender_progress > 0.3
		}
		days_remove = 180
		remove_trigger = {
			OR = {
				has_war = no
				controls_all_owned_states = yes
			}
		}
		fire_only_once = no
		ai_will_do = { factor = 100 }

		modifier = {
			war_support_factor = 0.15
			army_core_defence_factor = 0.1
			army_core_attack_factor = 0.1
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_not_step_back"
		}
	}	
}

AST_referendum_decisions = {

}

AST_faction_decisions = {
	MEX_join_international = {# join the international
		icon = generic_nationalism

		allowed = { tag = MEX }

		available = {
			FRA = {
				has_socialist_government = yes
				is_faction_leader = yes
				has_capitulated = no
			}
			OR = {
				has_completed_focus = MEX_republic_survives 
				has_completed_focus = MEX_PCM_the_lenin_of_the_west
				has_completed_focus = MEX_mexicaytol
			}
			hidden_trigger = { NOT = { has_country_flag = MEX_Cristeros_Victory } }
			date > 1937.2.2
		}

		visible = {
			is_in_faction = no
			is_subject = no
		}


		fire_only_once = no
		cost = 50

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				FROM = {
					is_faction_leader = yes
					has_socialist_government = yes
					surrender_progress > 0.30
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_ENTENTE
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_REICHSPAKT
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_JAPAN
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_NEUTRALITY
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MEX_join_international"
			FRA = {
				add_to_faction = MEX
			}
		}
	}

	MEX_join_entente = {# Join the Entente
		icon = generic_nationalism

		allowed = { tag = MEX }

		available = {
			has_socialist_government = no
			OR = {
				has_elected_government = yes
				has_country_flag = MEX_coup_stopped
				has_country_flag = MEX_garza_lives
				has_cosmetic_tag = MEX_goldshirt_old_guard
				has_country_flag = MEX_monarchy_time
				has_completed_focus = MEX_constitutional_convention
			}
			ENT = {
				is_faction_leader = yes
				has_socialist_government = no
			}
			date > 1937.2.2
		}

		visible = {
			is_subject = no
			is_in_faction = no
		}
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_INTERNATIONALE
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_REICHSPAKT
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_JAPAN
					}
					has_game_rule = {
						rule = MEX_foreign_policy
						option = MEX_FOREIGN_POLICY_NEUTRALITY
					}
				}
			}
		}
		fire_only_once = no
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MEX_join_entente"
			ENT = {
				add_to_faction = MEX
			}
		}
	}
	MEX_join_japan = {# Join the Co-Proepseriy Sphere
		icon = generic_nationalism

		allowed = { tag = MEX }

		available = {
			OR = {
				has_completed_focus = MEX_GOL_old_or_new
				has_completed_focus = MEX_mexicaytol
				has_completed_focus = MEX_dia_de_muertos
			}
			JAP = {
				is_faction_leader = yes
		
			}
			date > 1937.2.2
		}

		visible = {
			is_subject = no
			is_in_faction = no
		}
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		fire_only_once = no
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MEX_join_entente"
			JAP = {
				add_to_faction = MEX
			}
		}
	}
}

AST_civil_war = {
	UKR_initiate_loyalist_uprising_in_southeast = {
		icon = GFX_decision_revolt

		allowed = { always = no }
		
		available = {
			has_war_support > 0
		}
		cancel_trigger = { controls_state = FROM }
		
		custom_cost_text = CP_50
		custom_cost_trigger = { command_power > 49.99 }
		days_remove = 45
		cancel_if_not_visible = yes
		on_map_mode = map_only
		fire_only_once = yes

		state_target = yes
		
		ai_will_do = {
			factor = 100
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_initiate_loyalist_uprising_in_southeast target: [From.GetName]"
			hidden_effect = {
				add_command_power = 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_initiate_loyalist_uprising_in_southeast target: [From.GetName]"
			hidden_effect = {
				add_command_power = -50
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_initiate_loyalist_uprising_in_southeast target: [From.GetName]"
			if = {
				limit = {
					NOT = { has_template = "Pikhotna Dyviziia" }
				}
				division_template = {
					name = "Pikhotna Dyviziia"
					division_names_group = UKR_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
			}
			FROM = {
				create_unit = {
					division = "division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					allow_spawning_on_enemy_provs = yes
					owner = ROOT
					count = 7
				}
			}
		}
	}
	UKR_initiate_peasant_uprising_in_volyn = {
		icon = GFX_decision_revolt

		allowed = { always = no }
		
		available = {
			has_war_support > 0			
		}
		
		cancel_trigger = { controls_state = FROM }
		
		custom_cost_text = CP_50
		custom_cost_trigger = { command_power > 49.99 }
		days_remove = 45
		cancel_if_not_visible = yes
		on_map_mode = map_only

		state_target = yes
		
		ai_will_do = {
			factor = 100
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel UKR_initiate_peasant_uprising_in_volyn target: [From.GetName]"
			hidden_effect = {
				add_command_power = 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_initiate_peasant_uprising_in_volyn target: [From.GetName]"
			hidden_effect = {
				add_command_power = -50
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_initiate_peasant_uprising_in_volyn target: [From.GetName]"
			if = {
				limit = {
					NOT = { has_template = "Pikhotna Dyviziia" }
				}
				division_template = {
					name = "Pikhotna Dyviziia"
					division_names_group = UKR_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
			}
			FROM = {
				create_unit = {
					division = "division_template = \"Pikhotna Dyviziia\" start_experience_factor = 0.05 start_equipment_factor = 1"
					allow_spawning_on_enemy_provs = yes
					owner = ROOT
					count = 7
				}
			}
		}
	}
	UKR_support_kyiv = {
		icon = GFX_decision_generic_agreement
		allowed = { always = no }
		visible = {
			if = {
				limit = { tag = RUS }
				OR = {
					AND = {
						has_socialist_government = yes
						var:202.owner = { has_socialist_government = yes }
					}
					AND = {
						has_left_democratic_government = yes
						var:202.owner = { has_left_democratic_government = yes }
					}
				}
			}
			else = {
				var:202.owner = { has_socialist_government = no }
			}
		}
		
		ai_will_do = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = RUS_Expansionism
					AND = { 
						tag = GER
						var:202.owner = { is_in_faction_with = GER }
					}
				}
			}
			modifier = {
				factor = 2
				has_idea = GER_ukr_all_concessions
			}
			modifier = {
				factor = 1.2
				has_idea = GER_ukr_some_concessions
			}	
		}		
		
		cost = 0
		fire_only_once = yes
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_support_kyiv target: [From.GetName]"
			FROM = {
				save_event_target_as = volunteer_target
				country_event = {
					id = ukrfor.262
					days = 2
					random = 48
				}
			}
			send_volunteers_to_TARGET = yes		
			hidden_effect = {
				remove_targeted_decision = { target = USR decision = UKR_support_borotbysts }
				remove_targeted_decision = { target = UKR decision = UKR_intervention }
			}
		}
	}
	UKR_support_borotbysts = {
		icon = GFX_decision_generic_agreement
		allowed = { always = no }
		
		visible = {
			has_socialist_government = yes
			var:221.owner = { has_socialist_government = yes }
		}
		
		ai_will_do = {
			base = 20
			modifier = {
				factor = 0
				has_completed_focus = RUS_Expansionism
			}
		}		
		
		cost = 0
		fire_only_once = yes
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_support_borotbysts target: [From.GetName]"
			FROM = {
				save_event_target_as = volunteer_target
				country_event = {
					id = ukrfor.262
					days = 2
					random = 48
				}
			}
			send_volunteers_to_TARGET = yes		
			hidden_effect = {
				remove_targeted_decision = { target = UKR decision = UKR_support_kyiv }
				remove_targeted_decision = { target = UKR decision = UKR_intervention }
			}
		}
	}
	UKR_intervention = {
		icon = GFX_decision_hol_draw_up_staff_plans
		allowed = { always = no }
		
		visible = {
			can_declare_war_on = FROM
			is_subject = no
			NOT = { is_in_faction_with = GER }
			if = {
				limit = { tag = POL }
				NOT = { is_in_faction_with = INT }
			}
			else_if = {
				limit = { tag = WHR }
				NOT = { owns_state = 997 }
				NOT = { owns_state = 241 }
				NOT = { owns_state = 93 }
			}
			else_if = {
				limit = { tag = ROM }
				OR = {
					has_global_flag = balkan_war_ended
					has_global_flag = balkan_war_ended_SER_victory
				}
			}			
		}
		
		ai_will_do = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = RUS_Realpolitik
					AND = {
						NOT = { tag = GER }
						FROM = { dont_start_major_faction_wars = yes }
					}
				}
			}
			modifier = {
				factor = 1.8
				has_idea = GER_ukr_all_concessions_harsh
			}
			modifier = {
				factor = 1.5
				has_idea = GER_ukr_all_concessions
			}
			modifier = {
				factor = 0.5
				has_idea = GER_ukr_some_concessions
			}		
		}		
		
		cost = 0
		days_remove = 7
		fire_only_once = yes
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_intervention target: [From.GetName]"
			setup_decision_attack_AI = yes
			USR = {
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = 1000
				}
			}
			country_event = {
				id = ukrfor.263
				days = 2
				random = 48
			}
			hidden_effect = {
				remove_targeted_decision = { target = UKR decision = UKR_support_kyiv }
				remove_targeted_decision = { target = USR decision = UKR_support_borotbysts }
			}			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UKR_intervention target: [From.GetName]"
			clear_decision_attack_AI = yes
			USR = {
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = -1000
				}
			}					
		}
	}	
}